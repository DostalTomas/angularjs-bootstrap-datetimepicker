!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular"),require("luxon"),require("angularjs-register")):"function"==typeof define&&define.amd?define(["angular","luxon","angularjs-register"],t):"object"==typeof exports?exports.datetimepicker=t(require("angular"),require("luxon"),require("angularjs-register")):e.datetimepicker=t(e.angular,e.luxon,e["angularjs-register"])}(window,function(e,t,r){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=11)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_LOCALIZATION=t.MINUTE_FORMAT=t.HOUR_FORMAT=t.DAY_FORMAT=t.MONTH_FORMAT=t.YEAR_FORMAT=void 0;t.YEAR_FORMAT="yyyy";t.MONTH_FORMAT="yyyy-LLL";t.DAY_FORMAT="yyyy-LLL-dd";t.HOUR_FORMAT="yyyy-LL-dd H";t.MINUTE_FORMAT="yyyy-LL-dd H:mm";t.DEFAULT_LOCALIZATION={bg:{previous:"предишна",next:"следваща"},ca:{previous:"anterior",next:"següent"},da:{previous:"forrige",next:"næste"},de:{previous:"vorige",next:"weiter"},"en-au":{previous:"previous",next:"next"},"en-gb":{previous:"previous",next:"next"},en:{previous:"previous",next:"next"},"es-us":{previous:"atrás",next:"siguiente"},es:{previous:"atrás",next:"siguiente"},fi:{previous:"edellinen",next:"seuraava"},fr:{previous:"précédent",next:"suivant"},hu:{previous:"előző",next:"következő"},it:{previous:"precedente",next:"successivo"},ja:{previous:"前へ",next:"次へ"},ml:{previous:"മുൻപുള്ളത്",next:"അടുത്തത്"},nl:{previous:"vorige",next:"volgende"},pl:{previous:"poprzednia",next:"następna"},"pt-br":{previous:"anteriores",next:"próximos"},pt:{previous:"anterior",next:"próximo"},ro:{previous:"anterior",next:"următor"},ru:{previous:"предыдущая",next:"следующая"},sk:{previous:"predošlá",next:"ďalšia"},sv:{previous:"föregående",next:"nästa"},tr:{previous:"önceki",next:"sonraki"},uk:{previous:"назад",next:"далі"},"zh-cn":{previous:"上一页",next:"下一页"},"zh-tw":{previous:"上一頁",next:"下一頁"},"cs-cz":{previous:"Předchozí",next:"Další"}}},function(e,t,r){"use strict";function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){function e(t){var r=this,a=t.dateTime,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(t,["dateTime"]);!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dateTime=a,this.selectable=!0;var i=["active","current","display","future","past","selectable"];Object.keys(n).filter(function(e){return i.includes(e)}).forEach(function(e){r[e]=n[e]})}var t,r,n;return t=e,(r=[{key:"localDateValue",value:function(){return this.dateTime.toLocal()}}])&&a(t.prototype,r),n&&a(t,n),e}();t.default=n},function(e,t){var r="/templates/datetimepicker.tpl.pug";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<datetimepicker class="table-responsive"><table class="table table-condensed {{ $ctrl.data.currentView }}-view"><thead><tr><th class="left" ng-show="$ctrl.data.leftDate.selectable" ng-click="$ctrl.changeView($ctrl.data.currentView, $ctrl.data.leftDate, $event)"><i class="glyphicon glyphicon-arrow-left"><span class="sr-only">{{ $ctrl.screenReader.previous }}</span></i></th><th class="switch" colspan="5" ng-show="$ctrl.data.previousViewDate.selectable" ng-click="$ctrl.changeView($ctrl.data.previousView, $ctrl.data.previousViewDate, $event)">{{ $ctrl.data.previousViewDate.display }}</th><th class="right" ng-show="$ctrl.data.rightDate.selectable" ng-click="$ctrl.changeView($ctrl.data.currentView, $ctrl.data.rightDate, $event)"><i class="glyphicon glyphicon-arrow-right"><span class="sr-only">{{ $ctrl.screenReader.next }}</span></i></th></tr><tr><th class="dow" ng-repeat="day in $ctrl.data.dayNames">{{ day }}</th></tr></thead><tbody><tr ng-if="$ctrl.data.currentView !== \'day\'"><td colspan="7"><span class="{{ $ctrl.data.currentView }}" ng-repeat="dateObject in $ctrl.data.dates" ng-class="{current: dateObject.current, active: dateObject.active, past: dateObject.past, future: dateObject.future, disabled: !dateObject.selectable}" ng-click="$ctrl.changeView($ctrl.data.nextView, dateObject, $event)"></span>{{ dateObject.display }}</td></tr><tr ng-if="$ctrl.data.currentView === \'day\'" ng-repeat="week in $ctrl.data.weeks"><td class="day" ng-repeat="dateObject in week.dates" ng-click="$ctrl.changeView($ctrl.data.nextView, dateObject, $event)" ng-class="{current: dateObject.current, active: dateObject.active, past: dateObject.past, future: dateObject.future, disabled: !dateObject.selectable}">{{ dateObject.display }}</td></tr></tbody></table></datetimepicker>')}]),e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(r(0)),n=r(1),i=s(r(4)),o=s(r(3)),u=r(2);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=function(){function e(t,r,a,n,i){l(this,e),this.$scope=t,this.dateTimePickerValidator=n,this.dateTimePickerConfig=i,this.$attrs=a}var t,r,i;return t=e,(r=[{key:"$onInit",value:function(){var e=this;this.configuration=this.createConfiguration(this.$attrs,this.dateTimePickerConfig),this.screenReader=this.configuration.screenReader,this.ngModelController.$render=this.$render.bind(this),this.configuration.configureOn&&this.$scope.$on(this.configuration.configureOn,function(){e.configuration=e.createConfiguration(e.$attrs,e.dateTimePickerConfig),e.screenReader=e.configuration.screenReader,e.ngModelController.$render()}),this.configuration.renderOn&&this.$scope.$on(this.configuration.renderOn,this.ngModelController.$render),this.viewToModelFactory={year:this.yearModelFactory.bind(this),month:this.monthModelFactory.bind(this),day:this.dayModelFactory.bind(this),hour:this.hourModelFactory.bind(this),minute:this.minuteModelFactory.bind(this),setTime:this.setTime.bind(this)}}},{key:"changeView",value:function(e,t,r){if(r&&(r.stopPropagation(),r.preventDefault()),e&&t.dateTime>-1/0&&t.selectable&&this.viewToModelFactory[e]){var a=this.viewToModelFactory[e](t.dateTime),n=[];if(a.weeks)for(var i=0;i<a.weeks.length;i+=1)for(var o=a.weeks[i],u=0;u<o.dates.length;u+=1){var s=o.dates[u];n.push(s)}this.beforeRender({$view:a.currentView,$dates:a.dates||n,$leftDate:a.leftDate,$upDate:a.previousViewDate,$rightDate:a.rightDate}),this.data=a}}},{key:"yearModelFactory",value:function(e){for(var t=e.startOf("year"),r=10*parseInt(t.year/10,10),a=this.startOfDecade(e).minus({years:1}).startOf("year"),n=this.formatValue(this.toDateTime(this.ngModelController.$modelValue),u.YEAR_FORMAT),i=this.getCurrentTimeFormatted(u.YEAR_FORMAT),s={currentView:"year",nextView:"year"===this.configuration.minView?"setTime":"month",previousViewDate:new o.default({dateTime:null,display:"".concat(r," - ").concat(r+9)}),leftDate:new o.default({dateTime:a.minus({years:9})}),rightDate:new o.default({dateTime:a.plus({years:11})}),dates:[]},l=0;l<12;l+=1){var d=a.plus({years:l}),c={active:d.toFormat(u.YEAR_FORMAT)===n,current:d.toFormat(u.YEAR_FORMAT)===i,display:d.toFormat(u.YEAR_FORMAT),future:d.year>r+9,past:d.year<r,dateTime:d};s.dates.push(new o.default(c))}return s}},{key:"monthModelFactory",value:function(e){for(var t=e.startOf("year"),r=this.startOfDecade(e),a=this.formatValue(this.toDateTime(this.ngModelController.$modelValue),u.MONTH_FORMAT),n=this.getCurrentTimeFormatted(u.MONTH_FORMAT),i={previousView:"year",currentView:"month",nextView:"month"===this.configuration.minView?"setTime":"day",previousViewDate:new o.default({dateTime:r,display:t.toFormat("yyyy")}),leftDate:new o.default({dateTime:t.minus({years:1})}),rightDate:new o.default({dateTime:t.plus({years:1})}),dates:[]},s=0;s<12;s+=1){var l=t.plus({months:s}),d={active:l.toFormat(u.MONTH_FORMAT)===a,current:l.toFormat(u.MONTH_FORMAT)===n,display:l.toFormat("LLL"),dateTime:l};i.dates.push(new o.default(d))}return i}},{key:"dayModelFactory",value:function(e){for(var t=e,r=t.startOf("year"),a=t.startOf("month"),i=t.endOf("month"),s=a.minus({days:Math.abs(a.weekday)}),l=this.formatValue(this.toDateTime(this.ngModelController.$modelValue),u.DAY_FORMAT),d=this.getCurrentTimeFormatted(u.DAY_FORMAT),c={previousView:"month",currentView:"day",nextView:"day"===this.configuration.minView?"setTime":"hour",previousViewDate:new o.default({dateTime:r,display:a.toFormat("yyyy-LLL")}),leftDate:new o.default({dateTime:a.minus({months:1})}),rightDate:new o.default({dateTime:a.plus({months:1})}),dayNames:[],weeks:[]},f=0;f<7;f+=1)c.dayNames.push(n.Info.weekdays("short")[f]);for(var m=0;m<6;m++){for(var p={dates:[]},h=1;h<8;h++){var v=s.plus({days:7*m+h}),y={active:v.toFormat(u.DAY_FORMAT)===l,current:v.toFormat(u.DAY_FORMAT)===d,display:v.toFormat("d"),future:v>i,past:v<a,dateTime:v};p.dates.push(new o.default(y))}c.weeks.push(p)}return c}},{key:"hourModelFactory",value:function(e){for(var t=e.startOf("day"),r=t.startOf("month"),a=this.formatValue(this.toDateTime(this.ngModelController.$modelValue),u.HOUR_FORMAT),n=this.getCurrentTimeFormatted(u.HOUR_FORMAT),i={previousView:"day",currentView:"hour",nextView:"hour"===this.configuration.minView?"setTime":"minute",previousViewDate:new o.default({dateTime:r,display:t.toFormat("DD")}),leftDate:new o.default({dateTime:t.minus({days:1})}),rightDate:new o.default({dateTime:t.plus({days:1})}),dates:[]},s=0;s<24;s+=1){var l=t.plus({hours:s}),d={active:l.toFormat(u.HOUR_FORMAT)===a,current:l.toFormat(u.HOUR_FORMAT)===n,display:l.toFormat("t"),dateTime:l};i.dates.push(new o.default(d))}return i}},{key:"minuteModelFactory",value:function(e){for(var t=e.startOf("hour"),r=t.startOf("day"),a=this.formatValue(this.toDateTime(this.ngModelController.$modelValue),u.MINUTE_FORMAT),n=this.getCurrentTimeFormatted(u.MINUTE_FORMAT),i={previousView:"hour",currentView:"minute",nextView:"setTime",previousViewDate:new o.default({dateTime:r,display:t.toFormat("ff")}),leftDate:new o.default({dateTime:t.minus({hours:1})}),rightDate:new o.default({dateTime:t.plus({hours:1})}),dates:[]},s=60/this.configuration.minuteStep,l=0;l<s;l+=1){var d=t.plus({minute:l*this.configuration.minuteStep}),c={active:d.toFormat(u.MINUTE_FORMAT)===a,current:d.toFormat(u.MINUTE_FORMAT)===n,display:d.toFormat("t"),dateTime:d};i.dates.push(new o.default(c))}return i}},{key:"setTime",value:function(e){var t=this.ngModelController.$modelValue;return this.ngModelController.$setViewValue(e.toISO()),this.onSetTime({newDate:e.toJSDate(),oldDate:t}),this.viewToModelFactory[this.configuration.startView](e)}},{key:"$render",value:function(){this.changeView(this.configuration.startView,new o.default({dateTime:this.toDateTime(this.ngModelController.$modelValue)}))}},{key:"startOfDecade",value:function(e){var t=10*parseInt(e.year/10,10);return e.set({year:t}).startOf("year")}},{key:"formatValue",value:function(e,t){return e?e.toFormat(t):""}},{key:"getCurrentTimeFormatted",value:function(e){return n.DateTime.fromJSDate(new Date).toFormat(e)}},{key:"toDateTime",value:function(e){if("string"==typeof e){var t=n.DateTime.fromISO(e);if(t.isValid)return t}return n.DateTime.fromJSDate(new Date)}},{key:"createConfiguration",value:function(e,t){var r={};e.datetimepickerConfig&&(r=this.$scope.$parent.$eval(e.datetimepickerConfig));var n=a.default.extend({},t,r);return this.dateTimePickerValidator.validate(n),n}}])&&d(t.prototype,r),i&&d(t,i),e}(),f=function e(){l(this,e),Object.defineProperty(this,"templateUrl",{configurable:!0,enumerable:!0,writable:!0,value:i.default}),Object.defineProperty(this,"controller",{configurable:!0,enumerable:!0,writable:!0,value:c}),Object.defineProperty(this,"controllerAs",{configurable:!0,enumerable:!0,writable:!0,value:"$ctrl"}),Object.defineProperty(this,"require",{configurable:!0,enumerable:!0,writable:!0,value:{ngModelController:"ngModel"}}),Object.defineProperty(this,"bindings",{configurable:!0,enumerable:!0,writable:!0,value:{beforeRender:"&",onSetTime:"&"}})};t.default=f,Object.defineProperty(f,"componentName",{configurable:!0,enumerable:!0,writable:!0,value:"datetimepicker"})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=(a=r(0))&&a.__esModule?a:{default:a};function i(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$log=t}var t,r,a;return t=e,(r=[{key:"validate",value:function(e){var t=["configureOn","dropdownSelector","minuteStep","minView","renderOn","startView","screenReader"],r=Object.keys(e).filter(function(e){return t.indexOf(e)<0});if(r.length)throw new Error("Invalid options: ".concat(r.join(", ")));var a=["minute","hour","day","month","year"];if(a.indexOf(e.startView)<0)throw new Error("invalid startView value: ".concat(e.startView));if(a.indexOf(e.minView)<0)throw new Error("invalid minView value: ".concat(e.minView));if(a.indexOf(e.minView)>a.indexOf(e.startView))throw new Error("startView must be greater than minView");if(!n.default.isNumber(e.minuteStep))throw new Error("minuteStep must be numeric");if(e.minuteStep<=0||e.minuteStep>=60)throw new Error("minuteStep must be greater than zero and less than 60");if(null!==e.configureOn&&!n.default.isString(e.configureOn))throw new Error("configureOn must be a string");if(null!==e.configureOn&&e.configureOn.length<1)throw new Error("configureOn must not be an empty string");if(null!==e.renderOn&&!n.default.isString(e.renderOn))throw new Error("renderOn must be a string");if(null!==e.renderOn&&e.renderOn.length<1)throw new Error("renderOn must not be an empty string");if(null!==e.dropdownSelector&&!n.default.isString(e.dropdownSelector))throw new Error("dropdownSelector must be a string")}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=o,Object.defineProperty(o,"serviceName",{configurable:!0,enumerable:!0,writable:!0,value:"dateTimePickerValidator"})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var a,n=(a=r(0))&&a.__esModule?a:{default:a},i=r(2),o=r(1);function u(){var e=i.DEFAULT_LOCALIZATION[o.Settings.defaultLocale.toLowerCase()];return n.default.extend({},{configureOn:null,dropdownSelector:null,minuteStep:5,minView:"minute",renderOn:null,startView:"day"},{screenReader:e})}u.factoryName="dateTimePickerConfig"},function(e,t){e.exports=r},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9);var a=u(r(8)),n=u(r(7)),i=u(r(6)),o=u(r(5));function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,a.default)("ui.bootstrap.datetimepicker").factory(n.default.factoryName,n.default).service(i.default.serviceName,i.default).component(o.default.componentName,o.default).name();t.default=s},function(e,t,r){e.exports=r(10)}])});
//# sourceMappingURL=datetimepicker.js.map